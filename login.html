<html> 
  <head>
    <title>Login</title>
    <link rel="stylesheet" type="text/css" href="login.css">
  </head>
  <body>
    <div class="form-container">
    <form>
      <h1>Login</h1>
      <input type="text" name="username" id="username" placeholder="Username">
      <input type="password" name="password" id="password" placeholder="Password">
      <input type="submit" value="Login">
    </form>
    </div>
  <script>
	  
  const loginForm = document.querySelector("form");

  loginForm.addEventListener("submit", event => {
    event.preventDefault();

  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  
  const data = { username, password };

  fetch("http://192.168.56.1:5000/login", {
    method: "POST",
    body: JSON.stringify(data),
    headers:{
      "Content-Type":"application/json"
    }
  })
    .then(response => response.json())
    .then(data => {
        if(data.success){
            window.location.href = "/main.html";
        }
        else{
            alert("Login failed. Please try again!");
        }
    })
    .catch(error => {
      console.error(error);
    });
});
</script>    
  </body>
</html>

