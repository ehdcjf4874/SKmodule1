<html> 
  <head>
    <title>Login</title>
  </head>
  <body>
    <h1>Login</h1>
    <form action="" method="post">
      <input type="text" name="username" id="username" placeholder="Username">
      <input type="password" name="password" id="password" placeholder="Password">
      <input type="submit" value="Login">
    </form>
  <script>
const loginForm = document.querySelector("form");

loginForm.addEventListener("submit", function(e) {
  e.preventDefault();

  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;

  fetch("/login", {
    method: "POST",
    body: {
      username: username,
      password: password
    }
  })
    .then(res => res.json())
    .then(json => {
        if(json.success){
            window.location.href = "/home";
        }
        else{
            alert("Login failed. Please try again!");
        }
    });
});
</script>    
  </body>
</html>

